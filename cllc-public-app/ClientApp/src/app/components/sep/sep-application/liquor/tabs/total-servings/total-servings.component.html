<div class="t-servings">
    <p>
        Use the tool below to declare the appropriate number of drink servings for your event. You can adjust the total
        number at any time before you submit your application.
    </p>
    <p><strong>The quantity of liquor purchased for the event must not exceed the quantity specified on your permit.</strong></p>

    <p>
        Hosting a liquor tasting? Use the conversion tool below.
    </p>
    <mat-divider></mat-divider>

    <mat-card class="d-flex"
        style="margin-bottom: 25px; background-color:#e1e8f2;  border-radius: 5px; padding: 16px;">

        <!--div class="slider-box"-->
        <section class="w-100 pl-3 pr-3">
            <div class="ml-3 mr-3">
                <ngx-slider *ngIf="options" [value]="total_servingsSlider" (valueChange)="total_servings = $event;" [options]="options" ng-class='{red : isOver()}'></ngx-slider>
            </div>
        </section>

        <!--/div-->

        <div class="flex-fill slider-box" style="text-align:center; line-height:normal; padding-left: 15px; margin-left: 15px; border-left: solid #ccc 1px;">
            <input type="number" [ngStyle]="{'border-color': !isValid() ? 'red': '#ccc'}"
            [max]="max_servings" [min]="1" [(ngModel)]="total_servings" (ngModelChange)="totalServingsChange($event)" name="totalServings"
                class="form-control bev-slider"
                style="text-align:center; height:50px; font-size:20px; font-weight: 900;"><br>
            <strong>Declared Maximum Servings</strong><br>

            <ng-container *ngIf="!isValid()">
                <span class="error-states">Please enter a number greater than 0</span> <br>
            </ng-container>

            <small>You can enter a different number of <br>drinks here.</small>
        </div>
    </mat-card>

    <section style="padding-bottom: 15px;">
      <app-error-alert *ngIf="(total_servings - max_servings) > max_servings * .25" type="alert">
        The number you have entered exceeds maximum suggested drink servings by over 25%. Remember, you are responsible for the safety of your guest and are required to prevent over-service and intoxication. Are you sure you want to continue with this amount?
      </app-error-alert>
    </section>


    <p>
        According to the information you provided, the number of drinks served at your event should not exceed
        {{max_servings}}. This
        is a basic guideline. You may enter your own declared maximum servings, however, please remember that you are
        responsible for the safety of your guests and are required to prevent over-service and intoxication.
    </p>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                HOSTING A LIQUOR TASTING? USE THIS CONVERSION TOOL TO ESTIMATE YOUR NUMBER OF STANDARD SERVINGS
            </mat-panel-title>
        </mat-expansion-panel-header>
        <section class="tool-container">
            <h3>HOW TO USE THIS TOOL?</h3>

            <div class="d-flex">
                <label>Step 1</label>
                <section>
                    <p>
                        Input the size of your tasting drink in ounces. In the case of spirits, the tasting size is
                        fixed and cannot be adjusted.
                    </p>
                    <p>
                        Note: if the number of standard drinks is showing zero, you may have to increase the number of
                        tastings until a whole number is calculated by the tool.
                    </p>
                </section>
            </div>

            <div class="d-flex">
                <label>Step 2</label>
                <section>
                    <p>
                        Input the number of tastings you would like to calculate for. The number of standard drinks will
                        be calculated in the text box automatically.
                    </p>
                </section>
            </div>

            <div class="d-flex">
                <label>Step 3</label>
                <section>
                    <p>
                        Input the price per tasting drink you would like to calculate. The price per standard sized
                        drink will be calculated in the next box automatically.
                    </p>
                </section>
            </div>

            <div class="d-flex">
                <label>Step 4</label>
                <section>
                    <p>
                        Press the "Clear" button to reset the entered values if you would like to use the tool again.
                    </p>
                </section>
            </div>

            <app-conversion-tool toolType="beer"></app-conversion-tool>

            <app-conversion-tool toolType="wine"></app-conversion-tool>

            <app-conversion-tool toolType="spirits"></app-conversion-tool>
        </section>
    </mat-expansion-panel>

    <section class="pt-3">
        <button mat-raised-button color="secondary" class="mr-3" matStepperPrevious>BACK</button>
        <button mat-raised-button color="primary" [disabled]="!isValid()" (click)="next()">NEXT</button>
    </section>
</div>
