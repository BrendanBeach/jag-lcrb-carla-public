<div>
    <mat-horizontal-stepper [linear]="true" [selectedIndex]="selectedIndex" (selectionChange)="selectionChange($event)"
        #stepper>
        <ng-template matStepperIcon="edit">
            <fa-icon [icon]="faCheck"></fa-icon>
        </ng-template>

        <ng-container *ngFor="let step of steps; let index = index;">
            <mat-step [completed]="isStepCompleted(step)" *ngIf="step === 'applicant'">
                <ng-template matStepLabel>Applicant</ng-template>
                <app-applicant [account]="account" [application]="application" *ngIf="stepper.selectedIndex === index"
                    class="w-100" (saveComplete)="completeStep(step, stepper, $event)" #applicant>
                </app-applicant>
            </mat-step>

            <mat-step [completed]="isStepCompleted(step)" *ngIf="step === 'eligibility'">
                <ng-template matStepLabel>Eligibility</ng-template>
                <app-eligibility [account]="account" [localId]="localId" *ngIf="stepper.selectedIndex === index"
                    class="w-100" (saveComplete)="completeStep(step, stepper, $event)" #eligibility>
                </app-eligibility>
            </mat-step>


            <mat-step [completed]="isStepCompleted(step)" *ngIf="step === 'event'">
                <ng-template matStepLabel>Event</ng-template>
                <app-event [localId]="localId" *ngIf="stepper.selectedIndex === index" class="w-100"
                    (saveComplete)="completeStep(step, stepper, $event);" #event>
                </app-event>
            </mat-step>

            <mat-step [completed]="isStepCompleted(step)" *ngIf="step === 'liquor'">
                <ng-template matStepLabel>Liquor</ng-template>
                <app-liquor (saveComplete)="completeStep(step, stepper, $event)" [localId]="localId"
                    *ngIf="stepper.selectedIndex === index" class="w-100" #liquor>
                </app-liquor>
            </mat-step>

            <mat-step [completed]="isStepCompleted(step)" *ngIf="step === 'summary'">
                <ng-template matStepLabel>Summary</ng-template>
                <app-summary (saveComplete)="completeStep(step, stepper, $event)" [localId]="localId"
                    [account]="account" *ngIf="stepper.selectedIndex === index" class="w-100" #summary>
                </app-summary>
            </mat-step>

        </ng-container>
    </mat-horizontal-stepper>
</div>