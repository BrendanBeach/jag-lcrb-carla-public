<div class="form-wrapper row">
    <h1 class="col-md-12 mat-heading">{{currentUser.name}}'s applications</h1>

    <section class="col-md-8" style="width: 100%;">
        <p class="mat-body-1">
            Here is a list of your SEP applications - current and past.
            To create a new application from a previous one, simply find it and select Copy.
        </p>

        <button mat-raised-button color="primary" (click)="startApplication()">START NEW APPLICATION</button>

        <mat-divider></mat-divider>

        <h2>Submitted Applications</h2>
        <app-submitted-applications></app-submitted-applications>
        <mat-divider></mat-divider>

        <h2>Current Applications</h2>

        <app-submitted-applications [dataSourceOverride]="applications"></app-submitted-applications>
        <!--
        <div class="row mb-3">
          <div class="col" >
            <table mat-table [dataSource]="applications" matSort class="mat-elevation-z0 w-100">
              <!--- Note that these columns can be defined in any order.
                The actual rendered columns are set as a property on the row definition" -->
              -->

              <!-- Submitted Date -->
              <!--
              <ng-container matColumnDef="dateSubmitted">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Submitted Date</th>
                <td mat-cell *matCellDef="let row" class="mat-body-1">
                  {{row.dateSubmitted | date: 'dd-MMM-yyyy HH:mm:ss'}}
                </td>
              </ng-container>
              -->

              <!-- Event Name -->
              <!--
              <ng-container matColumnDef="eventName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Event Name</th>
                <td mat-cell *matCellDef="let row" class="mat-body-1">
                  <button mat-button color="primary" (click)="openApplication(row.specialEventId)">{{row.eventName ? row.eventName : "Unnamed Event"}}</button>
                </td>
              </ng-container>
              -->

              <!-- Start Date -->
              <!--
              <ng-container matColumnDef="eventStartDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Start Date</th>
                <td mat-cell *matCellDef="let row" class="mat-body-1">
                  {{row.eventStartDate | date: 'MMM dd, yyyy'}}
                </td>
              </ng-container>
              -->
              <!-- Status -->
              <!--
              <ng-container matColumnDef="eventStatusLabel">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                <td mat-cell *matCellDef="let row" class="mat-body-1"><fa-icon [icon]="getStatusIcon(row.eventStatus)" style="margin-right: 10px;"></fa-icon>{{row.eventStatus ? row.eventStatus : "Draft"}}</td>
              </ng-container>
              -->

              <!-- Size -->
              <!--
              <ng-container matColumnDef="maximumNumberOfGuests">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Size</th>
                <td mat-cell *matCellDef="let row" class="mat-body-1">{{row.maximumNumberOfGuests}}</td>
              </ng-container>
              -->

              <!-- City
              <ng-container matColumnDef="sepCity">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
                <td mat-cell *matCellDef="let row" class="mat-body-1">{{row.sepCity.name}}</td>
              </ng-container>
              -->
              <!-- Type -->
              <!--
              <ng-container matColumnDef="typeOfEventLabel">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
                <td mat-cell *matCellDef="let row" class="mat-body-1">{{row.typeOfEventLabel}}</td>
              </ng-container>
              -->

              <!-- Actions -->
              <!--
              <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>Action</th>
                <td mat-cell *matCellDef="let row" class="p-0">
                  <button mat-raised-button (click)="payNow(row.specialEventId)" *ngIf="row.eventStatus ==='Reviewed' && row.invoiceId && !row.isInvoicePaid">Pay Now</button>
                  <span *ngIf="row.specialEventId">
                    <a [href]="'api/special-events/applicant/' + row.specialEventId + '/pdf/Special Event Permit - #' + row.specialEventId + '.pdf'" target="_blank"><fa-icon [icon]="faDownload" style="margin-right: 10px;"></fa-icon>Print Summary</a>
                  </span>
                  <span>
                    <br>
                    <a href="#" (click)="cloneApplication(element)" target="_blank"><fa-icon [icon]="faCopy" style="margin-right: 10px;"></fa-icon>Create a Copy</a>
                  </span>

                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
              <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
            </table>
          </div>
        </div>
        -->

        <!--

        <table mat-table [dataSource]="applications" class="mat-elevation-z0 w-100">
        -->
            <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->

            <!-- Status Column -->
            <!--
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>
                    <span class="mat-subheading-2">Status</span>
                </th>
                <td mat-cell *matCellDef="let element" class="mat-body-1">
                    <fa-icon [icon]="faEdit"></fa-icon>
                    <br>
                    {{element.eventStatus ? element.eventStatus : "Draft"}}
                </td>
            </ng-container>
            -->
            <!-- Info Column -->
            <!--
            <ng-container matColumnDef="info">
                <th mat-header-cell *matHeaderCellDef>
                    <span class="mat-subheading-2">Info</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <table>
                        <tr>
                            <td class="info" colspan=2><h3 style="margin-bottom: 2px; margin-top: 2px;">{{element.eventName ? element.eventName : "Unnamed Event"}}</h3></td>
                        </tr>
                        <tr>
                            <td class="head">City/IN/District:</td>
                            <td class="info">{{element.sepCity.name}}</td>
                        </tr>
                        <tr>
                            <td class="head">Submitted Date:</td>
                            <td class="info">{{element.dateCreated | date: 'short'}}</td>
                        </tr>
                        <tr>
                            <td class="head">Event Date(s):</td>
                            <td class="info">{{element.eventDate  | date: 'short'}}</td>
                        </tr>
                        <tr>
                            <td class="head">Licence Number:</td>
                            <td class="info">[[??]]</td>
                        </tr>
                    </table>
                </td>
            </ng-container>
            -->
            <!-- Actions Column -->
            <!--
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>
                    <span class="mat-subheading-2">Actions</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <button routerLink="/sep/application/{{element.localId}}/{{getLastStep(element.lastStepCompleted)}}"
                        mat-raised-button color="primary">View</button>
                    <br>
                    <button mat-button color="primary"
                        (click)="cancelApplication(element.localId, element.eventName, element.eventName)">Cancel</button>
                    <br>
                    <span *ngIf="element.id">
                      <a [href]="'api/special-events/applicant/' + element.id + '/pdf/Special Event Permit - #' + element.id + '.pdf'" target="_blank">Print Summary</a>

                    <br>
                    </span>
                    <button mat-button color="primary" (click)="cloneApplication(element)">Clone</button>
                </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

       -->
    </section>
</div>
